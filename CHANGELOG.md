# Changelog

All notable changes to NestCraftX will be documented in this file.

## [0.2.3] - 2026-01-10

### Added

- **New Interactive System (Inquirer.js)**: Replaced `readline-sync` with `Inquirer` for professional arrow-key navigation.
- **Package Manager Support**: Choice between `npm`, `yarn`, and `pnpm` (via `--pm` flag or interactive selection).
- **Smart DB Detection**: Automatic database type selection (PostgreSQL or MongoDB) based on the chosen ORM.
- **Advanced Flag Merging**: Seamless integration between CLI flags and interactive prompts for missing options.
- **Visual Status Badges**: Added README badges for Version, License, and Supported ORMs.

### Changed

- **FULL Architecture Refactor**: Services moved to `application/services` to strictly follow Clean Architecture patterns.
- **Auth Refactoring**: `AuthService` now interacts exclusively with `UserService` (removed direct repository access).
- **Enhanced Demo Command**: The `demo` command now generates a full blog project with 3 related entities (User, Post, Comment) and 1-N relationships.
- **Improved Security**: JWT secrets now generated via `crypto.randomBytes(32)` (64-character hex strings).
- **Docker by Default**: Docker files are now generated by default in both modes unless `--docker=false` is specified.

### Fixed

- **Module Compatibility**: Resolved CommonJS vs ES6 conflicts in generated project templates.
- **Flag Validation**: Fixed bugs where certain CLI flags were ignored during the interactive flow.
- **Circular Dependencies**: Cleaned up imports in the Auth module to prevent potential runtime issues.

---

## [0.2.2] - 2025-11-07

### Added

- **Professional Templates**: Auto-generation of NestJS-specific `.gitignore` and customized `README.md` for every new project.
- **Git Auto-init**: Automatic Git repository initialization and first commit after project generation.
- **Mongoose Support (Beta)**: Initial implementation of MongoDB architecture with Mongoose.

### Changed

- **Code Cleanup**: Removed obsolete configuration files (`start.js`, `fullModeInput.js`, `lightModeInput.js`).
- **Log Standardization**: Unified console messaging using a consistent color-coded system (Info, Success, Warning).

---

## [0.2.0] - 2025-10-27

### Added

- **Dual Architecture Modes**:
  - **Mode FULL**: Complete Clean Architecture + DDD (Use-cases, Mappers, Adapters).
  - **Mode LIGHT**: Simplified MVP Architecture (Controllers → Services → Repositories).
- **Modern CLI Parser**: Support for `--key=value` and `--key value` syntax with validation.
- **Improved UX**: Integrated animated spinners and a full post-generation configuration summary.

### Security

- **Secure Environment**: Automatic generation of `JWT_SECRET` and `JWT_REFRESH_SECRET` in `.env`.
- **Sanitized Examples**: Creation of a safe `.env.example` file without sensitive data.

---

## [0.1.0] - Previous Version

### Initial Features

- Basic NestJS project generation.
- Support for Prisma and TypeORM.
- Basic Docker and Swagger configuration.
- Standard JWT Authentication.

---

## Migration Notes

### From 0.1.x to 0.2.3

**Non-breaking changes**: Version 0.2.x is backward compatible.

**New Recommended Commands:**

```bash
# LIGHT Mode (Fastest for MVPs)
nestcraftx new my-api --light --orm=prisma --auth

# FULL Mode (Standard for enterprise-grade apps)
nestcraftx new my-app --full --orm=typeorm --auth --swagger
```

Benefits of updating:

- Automated secure JWT secrets.

- Choice of Package Manager (npm/yarn/pnpm).

- Cleaner separation of concerns in Auth/User modules.

- Better DX with arrow-key menus.
